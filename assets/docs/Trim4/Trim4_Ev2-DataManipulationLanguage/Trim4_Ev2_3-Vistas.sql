-- -------------------------------------------------------------------------------------
-- -------------------------------------------------------------------------------------
-- -------------------------------------------------------------------------------------
-- VISTAS -> PRIVACIDAD DE LA INFO, OPTIMIZAR BBDD, ENTORNO DE PRUEBAS				  -- 
-- 		SE CREA UN ACCESO DIRECTO PARA NO OBLIGAR AL MOTOR DE BBDD A CONSULTAR		  --
-- 		#  VIEW (CONSULTAS FRECUENTES)												  --
-- -------------------------------------------------------------------------------------
-- -------------------------------------------------------------------------------------
-- -------------------------------------------------------------------------------------


-- -------------------------------------------------------------------------------------
-- CREAR VISTAS
-- -------------------------------------------------------------------------------------
## Crear la vista sección DEPORTES
-- -------------------------------------------------------------------------------------
CREATE VIEW art_deportes AS 
SELECT nombre_articulo, seccion, precio FROM productos
WHERE seccion = 'DEPORTES';
-- -------------------------------------------------------------------------------------
## Actualizar un artículo y comprobar la vista
-- -------------------------------------------------------------------------------------
UPDATE productos SET precio = precio + 10 
WHERE nombre_articulo = 'RAQUETA TENIS';
-- -------------------------------------------------------------------------------------
## Crear la vista 
-- -------------------------------------------------------------------------------------
CREATE VIEW art_ceramica AS 
SELECT nombre_articulo, seccion, precio FROM productos
WHERE seccion = 'CERÁMICA';
-- -------------------------------------------------------------------------------------


-- -------------------------------------------------------------------------------------
-- ELIMINAR VISTAS
-- -------------------------------------------------------------------------------------
## Eliminar la vista art_ceramica
-- -------------------------------------------------------------------------------------
DROP VIEW art_ceramica;
-- -------------------------------------------------------------------------------------


-- -------------------------------------------------------------------------------------
-- MODIFICAR VISTAS
-- -------------------------------------------------------------------------------------
## Modificar la vista art_deportes
-- -------------------------------------------------------------------------------------
ALTER VIEW art_deportes AS
SELECT nombre_articulo, seccion, pais_origen FROM productos
WHERE pais_origen = 'ESPAÑA';
-- -------------------------------------------------------------------------------------